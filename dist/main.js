!function(){"use strict";var e,t,a,s={226:function(e){e.exports=JSON.parse('[["Guam","154805"],["U.S. Virgin Islands","108612"],["American Samoa","57291"],["Northern Mariana Islands","69221"],["Total territories","4198855"],["50 states + DC","281421906"],["Total U.S. population","285620761"]]')},803:function(e){e.exports=JSON.parse('[["Guam","153836"],["U.S. Virgin Islands","87146"],["American Samoa","49710"],["Northern Mariana Islands","53883"],["Total territories","3725789"],["50 states + DC","308745538"],["Total U.S. population","312846492"]]')},806:function(e){e.exports=JSON.parse('[["Guam","159358"],["U.S. Virgin Islands","106405"],["American Samoa","55519"],["Northern Mariana Islands","47329"],["Total territories","3285874"],["50 states + DC","331449281"],["Total U.S. population","335073176"]]')}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return s[e](a,a.exports,i),a.exports}e=class{constructor(e){this.ele=e,this.ele.innerHTML="<h1>Population Tracker</h1>",this.ele.addEventListener("click",this.handleClick.bind(this))}handleClick(){this.ele.children[0].innerText="...pOpUlAtIoN tRaCkEr..."}},t=class{constructor(e){this.ele=e,this.sortStyle="byName";let t=document.createElement("div");t.setAttribute("id","firstLine"),this.ele.appendChild(t);let a=document.createElement("div");a.setAttribute("id","firstLineFooter"),this.ele.appendChild(a);let s=document.createElement("h2");s.setAttribute("id","firstLineFooterH2"),s.innerText="",a.appendChild(s);let n=document.createElement("h2");n.innerText="Fetch Vintage:",t.appendChild(n),a=document.createElement("div"),a.setAttribute("id","vintageSelector"),a.classList.add("firstLine");let i=document.createElement("ul");i.classList.add("vintageUl"),t.appendChild(a),a.appendChild(i);let l=document.createElement("li");l.innerText="2020",l.classList.add("2020"),i.appendChild(l),l=document.createElement("li"),l.innerText="2010",l.classList.add("2010"),i.appendChild(l),l=document.createElement("li"),l.innerText="2000",l.classList.add("2000"),i.appendChild(l);let d=document.createElement("div");d.setAttribute("id","secondLine"),e.appendChild(d),i=document.createElement("ul"),i.classList.add("sortSelectorUl"),d.appendChild(i),this.ele.appendChild(d);let o=document.createElement("div");o.setAttribute("id","thirdLine"),this.ele.appendChild(o);let r=this.fetch2020.bind(this),c=this.fetch2010.bind(this),m=this.fetch2000.bind(this),p=this.sortByName.bind(this),u=this.sortByPopulation.bind(this);document.addEventListener("click",(function(e){let t=e.target;t.classList.contains("2020")?r():t.classList.contains("2010")?c():t.classList.contains("2000")?m():t.classList.contains("sortByName")?p():t.classList.contains("sortByPopulation")&&u()}))}fetch2020(){document.getElementById("firstLineFooterH2").innerText="fetching...",this.getData("2020")}fetch2010(){document.getElementById("firstLineFooterH2").innerText="fetching...",this.getData("2010")}fetch2000(){document.getElementById("firstLineFooterH2").innerText="fetching...",this.getData("2000")}printData(){if(!document.querySelector("data")){let e=document.createElement("data"),t=document.createElement("ul");t.classList.add("fetchResultSorted"),e.appendChild(t),document.getElementById("thirdLine").appendChild(e)}document.getElementById("firstLineFooterH2").innerText="data fetched!";let e=document.createElement("ul"),t=document.createElement("li");t.classList.add("sortByName"),t.innerText="Sort by Name",e.appendChild(t),t=document.createElement("li"),t.classList.add("sortByPopulation"),t.innerText="Sort by Population",e.appendChild(t),document.getElementById("secondLine").replaceChild(e,document.querySelector(".sortSelectorUl")),e.classList.add("sortSelectorUl")}loadLocalData(e){let t;"2020"===e?t=i(806):"2010"===e?t=i(803):"2000"===e&&(t=i(226)),this.dataObject.localData=t}getData(e){let t,a,s;"2020"===e?(s="https://api.census.gov/data/2020/dec/pl?get=NAME,P1_001N&for=state:*&key=09beac347deddc9da12be4ca736c435f707ebec2",a="2020 Census dataset"):"2010"===e?(s="https://api.census.gov/data/2010/dec/pl?get=NAME,P001001&for=state:*&key=09beac347deddc9da12be4ca736c435f707ebec2",a="2010 Census dataset"):"2000"===e&&(s="https://api.census.gov/data/2000/dec/sf1?get=NAME,P001001&for=state:*&key=09beac347deddc9da12be4ca736c435f707ebec2",a="2000 Census dataset");const n=new XMLHttpRequest;n.addEventListener("readystatechange",(()=>{4===n.readyState&&200===n.status&&(t=JSON.parse(n.responseText),this.dataObject={header:a,data:t},this.loadLocalData(e),this.printData(),"byName"===this.sortStyle?this.sortByName():"byPop"===this.sortStyle&&this.sortByPopulation())})),n.open("GET",s),n.send()}sortData(e){const t={};t.header=this.dataObject.header,t.states=[],this.dataObject.data.forEach((e=>{if("NAME"!==e[0]){let a={};a.stateName=e[0],a.population=e[1],t.states.push(a)}})),this.dataObject.localData.forEach((e=>{let a={};a.stateName=e[0],a.population=e[1],t.states.push(a)}));let a={};"byName"===e?(a.states=this.objSortByName(t.states),a.header=this.dataObject.header):"byPopulation"===e&&(a.states=this.objSortByPopulation(t.states),a.header=this.dataObject.header);for(let e=0;e<a.states.length;e++){let t=a.states[e].population;"number"==typeof t&&(t=parseInt(t));let s=t.split(""),n=0,i=[];for(;s.length>0;)3===n&&(i.push(","),n=0),i.push(s.pop()),n++;let l=i.reverse().join("");a.states[e].population=l}return a}objSortByName(e){return e.sort(((e,t)=>e.stateName<t.stateName?-1:e.stateName>t.stateName?1:0))}objSortByPopulation(e){return e.sort(((e,t)=>parseInt(t.population)<parseInt(e.population)?-1:parseInt(t.population)>parseInt(e.population)?1:0))}sortByName(){this.sortStyle="byName";let e,t,a,s,n,i,l=this.sortData("byName"),d=l.header,o=document.querySelector("data"),r=document.createElement("ul");o.replaceChild(r,document.querySelector(".fetchResultSorted")),r.classList.add("fetchResultSorted");let c=document.createElement("li");c.innerText=d,c.classList.add("data-header"),r.appendChild(c);let m=document.createElement("li");m.innerText="by name",m.classList="sortLabel",r.appendChild(m);let p=document.createElement("li");p.classList.add("keyState"),p.innerText="State",r.appendChild(p);let u=document.createElement("li");u.classList.add("keyPop"),u.innerText="Population",r.appendChild(u);for(let d=0;d<l.states.length;d++)if("50 states + DC"!==l.states[d].stateName&&"Total territories"!==l.states[d].stateName&&"Total U.S. population"!==l.states[d].stateName){let e=document.createElement("li");e.classList.add("item","itemName"),e.innerText=`${l.states[d].stateName}`,r.appendChild(e);let t=document.createElement("li");t.classList.add("item","itemPop"),t.innerText=`${l.states[d].population}`,r.appendChild(t)}else"50 states + DC"===l.states[d].stateName?(e=document.createElement("li"),e.classList.add("item","itemName","fiftyPlusDC"),e.innerText=`${l.states[d].stateName}`,t=document.createElement("li"),t.classList.add("item","itemPop","fiftyPlusDC"),t.innerText=`${l.states[d].population}`):"Total U.S. population"===l.states[d].stateName?(a=document.createElement("li"),a.classList.add("item","itemName","totalUS"),a.innerText=`${l.states[d].stateName}`,s=document.createElement("li"),s.classList.add("item","itemPop","totalUS"),s.innerText=`${l.states[d].population}`):"Total territories"===l.states[d].stateName&&(n=document.createElement("li"),n.classList.add("item","itemName","totalTerr"),n.innerText=`${l.states[d].stateName}`,i=document.createElement("li"),i.classList.add("item","itemPop","totalTerr"),i.innerText=`${l.states[d].population}`);r.appendChild(n),r.appendChild(i),r.appendChild(e),r.appendChild(t),r.appendChild(a),r.appendChild(s);let h=document.getElementById("footer-container");h&&(h.id="footer-container-shrunk")}sortByPopulation(){this.sortStyle="byPop";let e,t,a,s,n,i,l=this.sortData("byPopulation"),d=l.header,o=document.querySelector("data"),r=document.createElement("ul");o.replaceChild(r,document.querySelector(".fetchResultSorted")),r.classList.add("fetchResultSorted");let c=document.createElement("li");c.innerText=d,c.classList.add("data-header"),r.appendChild(c);let m=document.createElement("li");m.innerText="by population",m.classList="sortLabel",r.appendChild(m);let p=document.createElement("li");p.classList.add("keyState"),p.innerText="State",r.appendChild(p);let u=document.createElement("li");u.classList.add("keyPop"),u.innerText="Population",r.appendChild(u);for(let d=0;d<l.states.length;d++)if("50 states + DC"!==l.states[d].stateName&&"Total territories"!==l.states[d].stateName&&"Total U.S. population"!==l.states[d].stateName){let e=document.createElement("li");e.classList.add("item","itemName"),e.innerText=`${l.states[d].stateName}`,r.appendChild(e);let t=document.createElement("li");t.classList.add("item","itemPop"),t.innerText=`${l.states[d].population}`,r.appendChild(t)}else"50 states + DC"===l.states[d].stateName?(e=document.createElement("li"),e.classList.add("item","itemName","fiftyPlusDC"),e.innerText=`${l.states[d].stateName}`,t=document.createElement("li"),t.classList.add("item","itemPop","fiftyPlusDC"),t.innerText=`${l.states[d].population}`):"Total U.S. population"===l.states[d].stateName?(a=document.createElement("li"),a.classList.add("item","itemName","totalUS"),a.innerText=`${l.states[d].stateName}`,s=document.createElement("li"),s.classList.add("item","itemPop","totalUS"),s.innerText=`${l.states[d].population}`):"Total territories"===l.states[d].stateName&&(n=document.createElement("li"),n.classList.add("item","itemName","totalTerr"),n.innerText=`${l.states[d].stateName}`,i=document.createElement("li"),i.classList.add("item","itemPop","totalTerr"),i.innerText=`${l.states[d].population}`);r.appendChild(n),r.appendChild(i),r.appendChild(e),r.appendChild(t),r.appendChild(a),r.appendChild(s);let h=document.getElementById("footer-container");h&&(h.id="footer-container-shrunk")}},a=class{constructor(e){this.ele=e;let t=document.createElement("div");t.setAttribute("id","footer-container"),this.ele.appendChild(t);let a=document.createElement("div");a.setAttribute("id","footer-content"),a.innerText="ER 2022",t.appendChild(a)}},document.addEventListener("DOMContentLoaded",(()=>{const s=document.getElementById("title");new e(s);const n=document.getElementById("footer");new a(n);const i=document.getElementById("main-content");new t(i)}))}();
//# sourceMappingURL=main.js.map